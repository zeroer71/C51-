C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE ________________
OBJECT MODULE PLACED IN .\Objects\°´¼ü¿ØÖÆÊ±ÖÓÏÔÊ¾.obj
COMPILER INVOKED BY: E:\Learning_syy\C51&STM32\Keil5\C51\BIN\C51.EXE °´¼ü¿ØÖÆÊ±ÖÓÏÔÊ¾.c OPTIMIZE(8,SPEED) BROWSE DEBUG O
                    -BJECTEXTEND PRINT(.\Listings\°´¼ü¿ØÖÆÊ±ÖÓÏÔÊ¾.lst) TABS(2) OBJECT(.\Objects\°´¼ü¿ØÖÆÊ±ÖÓÏÔÊ¾.obj)

line level    source

   1          /*
   2          **********************************************************************************************************
             -*************************************
   3          *
   4          *   æ¨¡å—åç§°ï¼š  æ¶²æ™¶æ¨¡å—1602ï¼ŒE2PROMæ¨¡å—ATC02,çŸ©é˜µæŒ‰é”®æ¨¡å—
   5          *   æ–‡ä»¶åç§°ï¼š  æŒ‰é”®æ§åˆ¶æ—¶é’Ÿæ˜¾ç¤º.c
   6          *   ç‰ˆæœ¬ï¼š     v1.0
   7          *   è¯´æ˜ï¼š     æ—¶é—´æ˜¾ç¤ºåœ¨1602æ¶²æ™¶ä¸Šï¼Œå¹¶æŒ‰ç§’å®æ—¶æ›´æ–°ï¼›
   8          *           ä½¿ç”¨æ¿ä¸Šçš„æŒ‰é”®éšæ—¶è°ƒèŠ‚æ—¶é’Ÿçš„ç§’ã€åˆ†ã€æ—¶ï¼ŒS9ä¸ºåŠŸèƒ½é”®ï¼ŒS13ä¸ºå¢åŠ é”®ï¼ŒS17ä
             -¸ºå‡å°‘é”®ï¼›
   9          *           æ–­ç”µæ—¶AT24C02è‡ªåŠ¨ä¿å­˜æ˜¾ç¤ºæ•°æ®ï¼Œä¸‹æ¬¡ä¸Šç”µæ—¶ä¼šæ¥ç€ä¸Šæ¬¡çš„æ˜¾ç¤ºç»§ç»­è¿è¡Œ
  10          * 
  11          *           
  12          *   ä¿®æ”¹è®°å½•ï¼š
  13          *         ç‰ˆæœ¬      ä¿®æ”¹æ—¶é—´        ä½œè€…      ä¿®æ”¹è¯´æ˜
  14          *       v1.0    2020-02-02      Yang    v1.0ç‰ˆæœ¬æµ‹è¯•
  15          *       v1.1    2020-02-02      Yang    å¢åŠ ä¿®æ”¹æ—¥æœŸçš„åŠŸèƒ½ï¼ŒæŒ‰é”®S8ä¸ºåŠŸèƒ½æŒ‰é”®ï¼ŒS12ä¸ºæ—¥æœŸå¢åŠ æŒ
             -‰é”®ï¼ŒS16ä¸ºæ—¥æœŸå‡å°‘æŒ‰é”®
  16          *       v1.2    2020-02-03      Yang    å¢åŠ ä¿®æ”¹æ˜ŸæœŸçš„åŠŸèƒ½ï¼Œå¢åŠ æ¸©æ§ç³»ç»Ÿï¼Œå¯ä»¥æ˜¾ç¤ºå½“å‰æ¸©åº¦ï
             -¼Œå¹¶ä¸”åˆ°è®¾å®šçš„æŠ¥è­¦å€¼åèœ‚é¸£å™¨ä¼šæŠ¥è­¦ã€ç¯é—ªçƒ    
  17          *                             ç¬¬ä¸€è¡Œæ˜¾ç¤ºå†…å®¹ï¼šæ—¥æœŸå¹´æœˆæ—¥ã€æ˜ŸæœŸ
  18          *                             ç¬¬äºŒè¡Œæ˜¾ç¤ºå†…å®¹ï¼šæ—¶é—´æ—¶åˆ†ç§’ã€æ¸©åº¦
  19          **********************************************************************************************************
             -*************************************
  20          */
  21          
  22          #include <reg52.h>
  23          #include "24c02.h"
  24          #define uchar unsigned char
  25          #define uint unsigned int
  26          
  27          /****å®šä¹‰æ¶²æ™¶æ˜¾ç¤ºæ ‡å¿—****/
  28          #define FLAG_TIME 0 //æ—¶é—´æ ‡å¿—
  29          #define FLAG_DATE 1 //æ—¥æœŸæ ‡å¿—
  30           
  31          /****åˆå§‹åŒ–é”å­˜å™¨çš„é”å­˜ç«¯å£****/
  32          sbit dula=P2^6;
  33          sbit wela=P2^7;
  34          
  35          /****åˆå§‹åŒ–æ¶²æ™¶ç«¯å£****/
  36          sbit lcden=P3^4;
  37          sbit rs=P3^5;
  38          
  39          /****åˆå§‹åŒ–çŸ©é˜µæŒ‰é”®ç«¯å£****/
  40          sbit key_func=P3^0;
  41          sbit key_add=P3^1;
  42          sbit key_sub=P3^2;
  43          sbit key_rd=P3^7;
  44          
  45          /****åˆå§‹åŒ–èœ‚é¸£å™¨ç«¯å£****/
  46          sbit beep=P2^3;
  47          
  48          /****å£°æ˜æ¸©åº¦ä¼ æ„Ÿå™¨ç«¯å£****/
  49          sbit ds=P2^2;//æ¸©åº¦ä¼ æ„Ÿå™¨ä¿¡å·çº¿
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 2   

  50          
  51          /****å£°æ˜å‘å…‰äºŒæç®¡****/
  52          sbit led0=P1^0;
  53          sbit led1=P1^1;
  54          sbit led2=P1^2;
  55          sbit led3=P1^3;
  56          
  57          /****å£°æ˜å…¨å±€å˜é‡****/
  58          uchar count,KeyFuncNum,WeekNum;
  59          char miao,fen,shi;
  60          char day,month,year_fr,year_re;
  61          
  62          /****å®šä¹‰æ¸©åº¦ç›¸å…³å˜é‡****/
  63          uint temp_int;//æ•´å‹çš„æ¸©åº¦æ•°æ®
  64          float temp_float;//æµ®ç‚¹å‹çš„æ¸©åº¦æ•°æ®
  65          uint warn_l1=200;//æ¸©åº¦ä¸‹é™å€¼ï¼Œæ˜¯æ¸©åº¦å€¼ä¹˜äº10åçš„ç»“æœ
  66          uint warn_l2=180;//æ¸©åº¦ä¸‹é™å€¼
  67          uint warn_h1=300;//æ¸©åº¦ä¸Šé™å€¼
  68          uint warn_h2=320;//æ¸©åº¦ä¸Šé™å€¼
  69          
  70          /****åˆå§‹åŒ–æ¶²æ™¶æ˜¾ç¤ºçŠ¶æ€****/
  71          uchar code table[]="SUN";
  72          
  73          /****å»¶æ—¶å‡½æ•°ï¼Œå»¶æ—¶næ¯«ç§’****/
  74          void delay_ms(uint n)
  75          {
  76   1        uint i,j;
  77   1        for(i=n;i>0;i--)
  78   1          for(j=110;j>0;j--);
  79   1      }
  80          
  81          /****èœ‚é¸£å™¨æŠ¥è­¦å‡½æ•°****/
  82          void beep_func()
  83          {
  84   1        beep=0;//æŠ¥è­¦
  85   1        delay_ms(100);
  86   1        beep=1;//ç†„ç­
  87   1      }
  88          
  89          /****æ¶²æ™¶å†™å‘½ä»¤å‡½æ•°****/
  90          void lcd_write_cmd(uchar cmd)
  91          {
  92   1        rs=0;
  93   1        lcden=0;
  94   1        P0=cmd;
  95   1        delay_ms(5);
  96   1        lcden=1;
  97   1        delay_ms(5);
  98   1        lcden=0;
  99   1      }
 100          
 101          /****æ¶²æ™¶å†™æ•°æ®å‡½æ•°****/
 102          void lcd_write_data(uchar data_val)
 103          {
 104   1        rs=1;
 105   1        lcden=0;
 106   1        P0=data_val;
 107   1        delay_ms(5);
 108   1        lcden=1;
 109   1        delay_ms(5);
 110   1        lcden=0;
 111   1      }
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 3   

 112          
 113          /****æ¶²æ™¶æ˜¾ç¤ºæ—¶é—´å‡½æ•°****/
 114          void lcd_display_time(uchar flag,uchar add,uchar date)
 115          {
 116   1        uchar ge,shi;
 117   1        ge=date%10;
 118   1        shi=date/10;
 119   1        if (flag==0)//flag==0ï¼Œä¼ é€’æ—¶é—´å‚æ•°
 120   1        {
 121   2          lcd_write_cmd(0x80+0x40+add);//è®¾ç½®æ˜¾ç¤ºä½ç½®
 122   2          lcd_write_data(0x30+shi);//é€å»æ¶²æ™¶æ˜¾ç¤ºåä½
 123   2          lcd_write_data(0x30+ge);//é€å»æ¶²æ™¶æ˜¾ç¤ºä¸ªä½
 124   2        }
 125   1      
 126   1        else if (flag==1)//flag==1,ä¼ é€’æ—¥æœŸå‚æ•°
 127   1        {
 128   2          lcd_write_cmd(0x80+add);//è®¾ç½®æ˜¾ç¤ºä½ç½®
 129   2          lcd_write_data(0x30+shi);//é€å»æ¶²æ™¶æ˜¾ç¤ºä¸ªä½
 130   2          lcd_write_data(0x30+ge);//é€å»æ¶²æ™¶æ˜¾ç¤ºåä½
 131   2        }
 132   1        
 133   1      }
 134          
 135          /****æ¶²æ™¶æ˜¾ç¤ºæ¸©åº¦å‡½æ•°****/
 136          void lcd_display_temp(uchar add,uint temp_int)
 137          {
 138   1        uchar ge,shi,xiao;
 139   1        shi=temp_int/100;
 140   1        ge=temp_int%100/10;
 141   1        xiao=temp_int%100%10;
 142   1        
 143   1        lcd_write_cmd(0x80+0x40+add);//è®¾ç½®æ˜¾ç¤ºä½ç½®
 144   1        lcd_write_data(0x30+shi);//é€å»æ¶²æ™¶æ˜¾ç¤ºåä½
 145   1        lcd_write_data(0x30+ge);//é€å»æ¶²æ™¶æ˜¾ç¤ºä¸ªä½
 146   1        lcd_write_cmd(0x80+0x40+add+3);
 147   1        lcd_write_data(0x30+xiao);//é€å»æ¶²æ™¶æ˜¾ç¤ºå°æ•°éƒ¨åˆ†
 148   1      }
 149          
 150          
 151          /****å†™æ˜ŸæœŸå‡½æ•°****/
 152          void lcd_write_week(uchar week)
 153          {
 154   1        lcd_write_cmd(0x80+13);
 155   1      
 156   1        switch(week)
 157   1        {
 158   2          case 1: lcd_write_data('M');delay_ms(5);
 159   2              lcd_write_data('O');delay_ms(5);
 160   2              lcd_write_data('N');delay_ms(5);
 161   2              break;
 162   2      
 163   2          case 2: lcd_write_data('T');delay_ms(5);
 164   2              lcd_write_data('U');delay_ms(5);
 165   2              lcd_write_data('E');delay_ms(5);
 166   2              break;
 167   2      
 168   2          case 3: lcd_write_data('W');delay_ms(5);
 169   2              lcd_write_data('E');delay_ms(5);
 170   2              lcd_write_data('N');delay_ms(5);
 171   2              break;
 172   2      
 173   2          case 4: lcd_write_data('T');delay_ms(5);
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 4   

 174   2              lcd_write_data('H');delay_ms(5);
 175   2              lcd_write_data('U');delay_ms(5);
 176   2              break;
 177   2      
 178   2          case 5: lcd_write_data('F');delay_ms(5);
 179   2              lcd_write_data('R');delay_ms(5);
 180   2              lcd_write_data('I');delay_ms(5);
 181   2              break;
 182   2      
 183   2          case 6: lcd_write_data('S');delay_ms(5);
 184   2              lcd_write_data('A');delay_ms(5);
 185   2              lcd_write_data('T');delay_ms(5);
 186   2              break;
 187   2      
 188   2          case 7: lcd_write_data('S');delay_ms(5);
 189   2              lcd_write_data('U');delay_ms(5);
 190   2              lcd_write_data('N');delay_ms(5);
 191   2              break;
 192   2        }
 193   1      }
 194          
 195          /****æ¶²æ™¶åˆå§‹åŒ–å‡½æ•°****/
 196          void LcdInit()
 197          {
 198   1        uchar i;
 199   1        
 200   1        /*åˆå§‹åŒ–å…¨å±€å˜é‡*/
 201   1        count=0;
 202   1        KeyFuncNum=0;
 203   1        WeekNum=0;
 204   1        miao=0;
 205   1        fen=0;
 206   1        shi=0;
 207   1      
 208   1        /*åˆå§‹åŒ–çŸ©é˜µæŒ‰é”®*/
 209   1        key_rd=0;//è½¯ä»¶å°†çŸ©é˜µç¬¬4åˆ—ä¸€ç«¯ç½®ä½ç”¨ä»¥åˆ†è§£å‡ºç‹¬ç«‹æŒ‰é”®
 210   1      
 211   1        /*åˆå§‹åŒ–æ¶²æ™¶å‚æ•°*/
 212   1        wela=0;
 213   1        dula=0;//å…³é—­é”å­˜å™¨çš„é”å­˜ç«¯ï¼Œé˜²æ­¢å¯¹æ¶²æ™¶æ˜¾ç¤ºäº§ç”Ÿå¹²æ‰°
 214   1        lcden=0;
 215   1        I2C_init();//åˆå§‹åŒ–E2PROMæ¨¡å—AT24C02,å¼€è¾Ÿå†…å­˜
 216   1        lcd_write_cmd(0x38);
 217   1        lcd_write_cmd(0x0c);
 218   1        lcd_write_cmd(0x06);
 219   1        lcd_write_cmd(0x01);
 220   1        lcd_write_cmd(0x80+13);//è®¾ç½®æ˜¾ç¤ºåˆå§‹åæ ‡
 221   1        for(i=0;i<3;i++)//å†™å…¥æ¶²æ™¶ä¸Šç”µæ˜¾ç¤ºçš„åˆå§‹æ•°æ®
 222   1        {
 223   2          lcd_write_data(table[i]);
 224   2          delay_ms(5);
 225   2        }
 226   1        
 227   1        lcd_write_cmd(0x80+6);//è®¾ç½®æ¶²æ™¶ç¬¬ä¸€è¡Œçš„æ˜¾ç¤ºä½ç½®
 228   1        lcd_write_data('-');
 229   1        delay_ms(5);
 230   1        lcd_write_cmd(0x80+9);
 231   1        lcd_write_data('-');
 232   1        delay_ms(5);
 233   1      
 234   1        lcd_write_cmd(0x80+0x40+4);//è®¾ç½®æ¶²æ™¶ç¬¬äºŒè¡Œçš„æ˜¾ç¤ºä½ç½®
 235   1        lcd_write_data(':');
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 5   

 236   1        delay_ms(5);
 237   1        lcd_write_cmd(0x80+0x40+7);
 238   1        lcd_write_data(':');
 239   1        lcd_write_cmd(0x80+0x40+14);//ç¬¬15æ ¼æ˜¾ç¤ºâ€œ.â€
 240   1        lcd_write_data('.');
 241   1        delay_ms(5);
 242   1        
 243   1        day=I2C_read_data(4);//ä¸Šç”µæ—¶é¦–å…ˆä»AT24C02è¯»å–æ—¥æœŸæ•°æ®
 244   1        month=I2C_read_data(5);
 245   1        year_re=I2C_read_data(6);
 246   1        year_fr=I2C_read_data(7);
 247   1        lcd_display_time(FLAG_DATE,10,day);//å°†æ•°æ®é€å¾€æ¶²æ™¶æ˜¾ç¤º
 248   1        lcd_display_time(FLAG_DATE,7,month);
 249   1        lcd_display_time(FLAG_DATE,4,year_re);
 250   1        lcd_display_time(FLAG_DATE,2,year_fr);
 251   1      
 252   1        miao=I2C_read_data(1);//ä¸Šç”µæ—¶é¦–å…ˆä»AT24C02è¯»å–æ—¶é—´æ•°æ®
 253   1        fen=I2C_read_data(2);
 254   1        shi=I2C_read_data(3);
 255   1        lcd_display_time(FLAG_TIME,8,miao);//å°†æ•°æ®é€å¾€æ¶²æ™¶æ˜¾ç¤º
 256   1        lcd_display_time(FLAG_TIME,5,fen);
 257   1        lcd_display_time(FLAG_TIME,2,shi);
 258   1        
 259   1        /*å¼€å¯å®šæ—¶å™¨0ä¸­æ–­*/
 260   1        TMOD=0x01;//è®¾ä¸ºå·¥ä½œæ–¹å¼1
 261   1        TH0=(65536-50000)/256;//è£…åˆå€¼ï¼Œ50msåˆ·æ–°ä¸€æ¬¡
 262   1        TL0=(65536-50000)%256;
 263   1        TR0=1;
 264   1        EA=1;
 265   1        ET0=1;
 266   1      }
 267          
 268          /****DS18B20å¤ä½ï¼Œåˆå§‹åŒ–å‡½æ•°****/
 269          void DsReset()
 270          {
 271   1        uint i;
 272   1        ds=0;//æ•°æ®çº¿æ‹‰ä½
 273   1        i=103;
 274   1        while(i>0)i--;//å»¶æ—¶720uså·¦å³
 275   1        ds=1;//æ•°æ®çº¿æ‹‰é«˜
 276   1        i=4;
 277   1        while(i>0)i--;//å»¶æ—¶30uså·¦å³
 278   1      }
 279          
 280          /****è¯»1ä½æ•°æ®å‡½æ•°****/
 281          uchar TempReadBit()
 282          {
 283   1        uint i;
 284   1        bit data_val;
 285   1        ds=0;
 286   1        i++;//èµ·å»¶æ—¶ä½œç”¨
 287   1        ds=1;
 288   1        i++;
 289   1        i++;
 290   1        data_val=ds;//ä»æ•°æ®çº¿è·å–æ•°æ®
 291   1        i=8;
 292   1        while(i>0)i--;//å»¶æ—¶èµ·ç¼“å†²ä½œç”¨
 293   1        return data_val;
 294   1      }
 295          
 296          /****è¯»1ä¸ªå­—èŠ‚æ•°æ®å‡½æ•°****/
 297          uchar TempReadByte()
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 6   

 298          {
 299   1        uint i,j,data_val;
 300   1        data_val=0;
 301   1        for (i = 0; i < 8; ++i)
 302   1        {
 303   2          j=TempReadBit();
 304   2          data_val=(j<<7)|(data_val>>1);
 305   2        }
 306   1        return data_val;
 307   1      }
 308          
 309          /****å‘DS18B20å†™ä¸€ä¸ªå­—èŠ‚æ•°æ®å‡½æ•°****/
 310          void TempWriteByte(uchar data_val)
 311          {
 312   1        uint i,j;
 313   1        bit TempBit;
 314   1        for (i = 0; i < 8; ++i)
 315   1        {
 316   2          /*é€ä¸ªè·å–ä¸€ä¸ªå­—èŠ‚çš„ä½æ•°æ®*/
 317   2          TempBit=data_val&0x01;
 318   2          data_val>>=1;
 319   2      
 320   2          /*å†™1*/
 321   2          if (TempBit)
 322   2          {
 323   3            ds=0;
 324   3            j++;j++;
 325   3            ds=1;
 326   3            j=8;
 327   3            while(j>0)j--;
 328   3          }
 329   2      
 330   2          /*å†™0*/
 331   2          else
 332   2          {
 333   3            ds=0;
 334   3            j=8;
 335   3            while(j>0)j--;
 336   3            ds=1;
 337   3            j++;j++;
 338   3          }
 339   2        }
 340   1      }
 341          
 342          /****DS18B20è·å–æ¸©åº¦å¹¶è½¬æ¢****/
 343          void TempChange()
 344          {
 345   1        DsReset();
 346   1        delay_ms(1);
 347   1        TempWriteByte(0xcc);//è·³è¿‡ROMå‘½ä»¤ï¼Œå› ä¸ºåªå¯¹ä¸€ä¸ªDS18B20æ“ä½œï¼Œä¸éœ€è¦è¯»å–ROMç¼–ç ä¸åŒ¹é
             -…ROMç¼–ç 
 348   1        TempWriteByte(0x44);//æ¸©åº¦è½¬æ¢å‘½ä»¤
 349   1      }
 350          
 351          /****è¯»å–å¯„å­˜å™¨ä¸­å­˜å‚¨çš„æ¸©åº¦æ•°æ®****/
 352          uint GetTemp()
 353          {
 354   1        uchar LowWord,HighWord;
 355   1        DsReset();
 356   1        delay_ms(1);
 357   1        TempWriteByte(0xcc);
 358   1        TempWriteByte(0xbe);//è¯»å–æš‚å­˜å™¨å‘½ä»¤
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 7   

 359   1        LowWord=TempReadByte();//ä½å…«ä½
 360   1        HighWord=TempReadByte();//é«˜å…«ä½
 361   1      
 362   1        /*è·å–æ•´å‹æ¸©åº¦å€¼*/
 363   1        temp_int=HighWord;
 364   1        temp_int<<=8;
 365   1        temp_int=temp_int|LowWord;//ä¸¤ä¸ªå­—èŠ‚åˆä¸ºä¸€ä¸ªå­—
 366   1      
 367   1        /*è·å–æµ®ç‚¹å‹æ¸©åº¦å€¼*/
 368   1        temp_float=temp_int*0.0625;//æ¸©åº¦åœ¨å¯„å­˜å™¨ä¸­ä¸º12ä½ï¼Œåˆ†è¾¨ç‡ä¸º0.0625Â°
 369   1        temp_int=temp_float*10+0.5;
 370   1        temp_float=temp_float+0.05;
 371   1      
 372   1        return temp_int;//è¿”å›æ•´å‹æ¸©åº¦å€¼
 373   1      }
 374          
 375          /****èœ‚é¸£å™¨æŠ¥è­¦ï¼Œç¯é—ªçƒå‡½æ•°****/
 376          void TempWarn(uchar noice,uchar led)  //noiceä¸ºæŠ¥è­¦éŸ³è°ƒï¼Œledä¸ºäºŒæç®¡
 377          {
 378   1        uchar i;
 379   1        i=noice;
 380   1      
 381   1        /*æŠ¥è­¦ ç¯äº®*/
 382   1        beep=0;//èœ‚é¸£å™¨æŠ¥è­¦
 383   1        P1=~(led);//æ§åˆ¶ç›¸åº”çš„ç¯äº®
 384   1        while(i--)
 385   1        {
 386   2          lcd_display_temp(12,GetTemp());//ç”¨æ˜¾ç¤ºæ¸©åº¦è¿™ä¸ªæ“ä½œèµ·å»¶æ—¶ä½œç”¨
 387   2        }
 388   1      
 389   1        /*å–æ¶ˆæŠ¥è­¦ ç¯ç­*/
 390   1        beep=1;
 391   1        P1=0xff;
 392   1        i=noice;
 393   1        while(i--)
 394   1        {
 395   2          lcd_display_temp(12,GetTemp());//ç”¨æ˜¾ç¤ºæ¸©åº¦è¿™ä¸ªæ“ä½œèµ·å»¶æ—¶ä½œç”¨
 396   2        }
 397   1      }
 398          
 399          /****æ¸©åº¦å¤„ç†å‡½æ•°****/
 400          void TempDeal(uint temp_int)
 401          {
 402   1        uchar i;
 403   1      
 404   1        /*æ¸©åº¦è¾¾åˆ°æŠ¥è­¦å€¼ï¼Œè¿›è¡ŒæŠ¥è­¦å¤„ç†*/
 405   1        if ((temp_int>warn_l2)&&(temp_int<=warn_l1))//æ¸©åº¦å¤§äº18Â°ï¼Œå°äº20Â°
 406   1        {
 407   2          TempWarn(40,0x01);//ç¬¬ä¸€ä¸ªç¯äº®ï¼Œèœ‚é¸£å™¨é•¿â€œæ»´â€
 408   2        }
 409   1      
 410   1        else if (temp_int<=warn_l2)//æ¸©åº¦å°äº18Â°
 411   1        {
 412   2          TempWarn(10,0x03);//ç¬¬ä¸€ã€äºŒä¸ªç¯äº®ï¼Œèœ‚é¸£å™¨çŸ­â€œæ»´â€
 413   2        }
 414   1      
 415   1        else if ((temp_int>warn_h1)&&(temp_int<=warn_h2))//æ¸©åº¦å¤§äº30Â°ï¼Œå°äº32Â°
 416   1        {
 417   2          TempWarn(40,0x04);//ç¬¬ä¸‰ä¸ªç¯äº®ï¼Œèœ‚é¸£å™¨é•¿â€œæ»´â€
 418   2        }
 419   1      
 420   1        else if (temp_int>=warn_h2)//æ¸©åº¦å¤§äº32Â°
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 8   

 421   1        {
 422   2          TempWarn(10,0x0c);//ç¬¬ä¸‰ã€å››ä¸ªç¯äº®ï¼Œèœ‚é¸£å™¨çŸ­â€œæ»´â€
 423   2        }
 424   1      
 425   1        /*æ¸©åº¦æœªè¾¾åˆ°æŠ¥è­¦å€¼ï¼Œä¸ä½œæŠ¥è­¦å¤„ç†ï¼Œæ­£å¸¸æ˜¾ç¤ºæ¸©åº¦*/
 426   1        else
 427   1        {
 428   2          i=40;
 429   2          while(i--)
 430   2          {
 431   3            lcd_display_temp(12,GetTemp());
 432   3          }
 433   2        }
 434   1      }
 435          
 436          /****æŒ‰é”®æ‰«æå‡½æ•°****/
 437          void KeyScan()
 438          {
 439   1        if (key_func==0)//ç¡®è®¤åŠŸèƒ½é”®æŒ‰ä¸‹
 440   1        {
 441   2          delay_ms(5);//å»¶æ—¶æ¶ˆæŠ–
 442   2          if (key_func==0)//å†æ¬¡ç¡®è®¤åŠŸèƒ½é”®æŒ‰ä¸‹
 443   2          {
 444   3            KeyFuncNum++;
 445   3            while(!key_func);//ç­‰å¾…æŒ‰é”®é‡Šæ”¾
 446   3            beep_func();//æ¯å½“æŒ‰é”®æŒ‰ä¸‹é‡Šæ”¾èœ‚é¸£å™¨ï¼Œå‘å‡ºæ»´å£°
 447   3      
 448   3            /*==============æ§åˆ¶æ—¶é—´===============*/
 449   3            if (KeyFuncNum==1)//ç¬¬ä¸€æ¬¡æŒ‰ä¸‹å®šä½åˆ°ç§’ä½ç½®
 450   3            {
 451   4              TR0=0;//å…³é—­å®šæ—¶å™¨0
 452   4              lcd_write_cmd(0x80+0x40+8);
 453   4              lcd_write_cmd(0x0f);//å¼€å¯å…‰æ ‡é—ªçƒ
 454   4            }
 455   3      
 456   3            if (KeyFuncNum==2)//ç¬¬äºŒæ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°åˆ†é’Ÿä½ç½®
 457   3            {
 458   4              lcd_write_cmd(0x80+0x40+5);
 459   4            }
 460   3      
 461   3            if (KeyFuncNum==3)//ç¬¬ä¸‰æ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°æ—¶é’Ÿä½ç½®
 462   3            {
 463   4              lcd_write_cmd(0x80+0x40+2);
 464   4            }
 465   3      
 466   3            /*==============æ§åˆ¶æ—¥æœŸ===============*/
 467   3            if (KeyFuncNum==4)//ç¬¬å››æ¬¡æŒ‰ä¸‹å®šä½åˆ°â€œæ—¥â€ä½ç½®
 468   3            {
 469   4              lcd_write_cmd(0x80+10);
 470   4            }
 471   3      
 472   3            if (KeyFuncNum==5)//ç¬¬äº”æ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°"æœˆ"ä½ç½®
 473   3            {
 474   4              lcd_write_cmd(0x80+7);
 475   4            }
 476   3      
 477   3            if (KeyFuncNum==6)//ç¬¬å…­æ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°"å¹´"çš„ååŠä½ç½®
 478   3            {
 479   4              lcd_write_cmd(0x80+4);
 480   4            }
 481   3      
 482   3            if (KeyFuncNum==7)//ç¬¬ä¸ƒæ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°"å¹´"çš„å‰åŠä½ç½®
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 9   

 483   3            {
 484   4              lcd_write_cmd(0x80+2);
 485   4            }
 486   3      
 487   3            if (KeyFuncNum==8)//ç¬¬å…«æ¬¡æŒ‰ä¸‹å…‰æ ‡é—ªçƒå®šä½åˆ°â€œæ˜ŸæœŸâ€ä½ç½®
 488   3            {
 489   4              lcd_write_cmd(0x80+13);
 490   4            }
 491   3            if (KeyFuncNum==9)//ç¬¬ä¹æ¬¡æŒ‰ä¸‹
 492   3            {
 493   4              KeyFuncNum=0;
 494   4              lcd_write_cmd(0x0c);//å–æ¶ˆå…‰æ ‡é—ªçƒ
 495   4              TR0=1;
 496   4            }
 497   3          }   
 498   2        }
 499   1      
 500   1        if (KeyFuncNum!=0)//åªæœ‰åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ï¼Œå¢åŠ é”®ä¸å‡å°‘é”®æ‰æœ‰æ•ˆ
 501   1        {
 502   2          if (key_add==0)//ç¡®è®¤å¢åŠ é”®è¢«æŒ‰ä¸‹
 503   2          {
 504   3            delay_ms(5);//å»¶æ—¶æ¶ˆæŠ–
 505   3            if (key_add==0)//å†æ¬¡ç¡®è®¤é”®è¢«æŒ‰ä¸‹
 506   3            {
 507   4              while(!key_add);//ç­‰å¾…æŒ‰é”®é‡Šæ”¾
 508   4              beep_func();
 509   4              
 510   4              /*==============æ§åˆ¶æ—¶é—´===============*/
 511   4              if (KeyFuncNum==1)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸€æ¬¡ï¼Œå…‰æ ‡åœåœ¨ç§’çš„ä½ç½®
 512   4              {
 513   5                miao++;
 514   5                if (miao==60)//æ»¡60åæ¸…0
 515   5                {
 516   6                  miao=0;
 517   6                }
 518   5                lcd_display_time(FLAG_TIME,8,miao);//æ¯è°ƒèŠ‚ä¸€æ¬¡é€æ¶²æ™¶æ˜¾ç¤ºä¸€æ¬¡
 519   5                lcd_write_cmd(0x80+0x40+8);//å…‰æ ‡é‡æ–°å›åˆ°ç§’çš„æ˜¾ç¤ºä½ç½®
 520   5                I2C_write_data(1,miao);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 521   5              }
 522   4      
 523   4              if (KeyFuncNum==2)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸¤æ¬¡ï¼Œå…‰æ ‡åœåœ¨åˆ†é’Ÿçš„ä½ç½®
 524   4              {
 525   5                fen++;
 526   5                if (fen==60)
 527   5                {
 528   6                  fen=0;
 529   6                }
 530   5                lcd_display_time(FLAG_TIME,5,fen);
 531   5                lcd_write_cmd(0x80+0x40+5);//å…‰æ ‡é‡æ–°å›åˆ°åˆ†é’Ÿçš„æ˜¾ç¤ºä½ç½®
 532   5                I2C_write_data(2,fen);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 533   5              }
 534   4      
 535   4              if (KeyFuncNum==3)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸‰æ¬¡ï¼Œå…‰æ ‡åœåœ¨æ—¶é’Ÿçš„ä½ç½®
 536   4              {
 537   5                shi++;
 538   5                if (shi==24)
 539   5                {
 540   6                  shi=0;
 541   6                }
 542   5                lcd_display_time(FLAG_TIME,2,shi);
 543   5                lcd_write_cmd(0x80+0x40+2);//å…‰æ ‡é‡æ–°å›åˆ°æ—¶é’Ÿçš„æ˜¾ç¤ºä½ç½®
 544   5                I2C_write_data(3,shi);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 10  

 545   5              }
 546   4      
 547   4              /*==============æ§åˆ¶æ—¥æœŸ===============*/
 548   4              if (KeyFuncNum==4)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å››æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæ—¥â€çš„ä½ç½®
 549   4              {
 550   5                day++;
 551   5                if (day==29)//29åæ¸…0,2020å¹´2æœˆä¸ºé—°æœˆã€‚æ­¤å¤„éœ€è¦æ ¹æ®å®é™…æ—¥æœŸæ¥è°ƒæ•´ï¼Œå°†æ¥å¯ä»¥
             -å¢åŠ â€œæ™ºèƒ½è°ƒæ•´â€åŠŸèƒ½
 552   5                {
 553   6                  day=0;
 554   6                }
 555   5                lcd_display_time(FLAG_DATE,10,day);//æ¯è°ƒèŠ‚ä¸€æ¬¡é€æ¶²æ™¶æ˜¾ç¤ºä¸€æ¬¡
 556   5                lcd_write_cmd(0x80+10);//å…‰æ ‡é‡æ–°å›åˆ°"æ—¥"çš„æ˜¾ç¤ºä½ç½®
 557   5                I2C_write_data(4,day);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 558   5              }
 559   4      
 560   4              if (KeyFuncNum==5)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹äº”æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæœˆâ€çš„ä½ç½®
 561   4              {
 562   5                month++;
 563   5                if (month==12)
 564   5                {
 565   6                  month=0;
 566   6                }
 567   5                lcd_display_time(FLAG_DATE,7,month);
 568   5                lcd_write_cmd(0x80+7);//å…‰æ ‡é‡æ–°å›åˆ°â€œæœˆçš„æ˜¾ç¤ºä½ç½®
 569   5                I2C_write_data(5,month);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 570   5              }
 571   4      
 572   4              if (KeyFuncNum==6)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å…­æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œå¹´â€ååŠçš„ä½ç½®
 573   4              {
 574   5                year_re++;
 575   5                if (year_re==99)
 576   5                {
 577   6                  year_re=0;
 578   6                }
 579   5                lcd_display_time(FLAG_DATE,4,year_re);
 580   5                lcd_write_cmd(0x80+4);//å…‰æ ‡é‡æ–°å›åˆ°â€œå¹´â€çš„ååŠæ˜¾ç¤ºä½ç½®
 581   5                I2C_write_data(6,year_re);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 582   5              }
 583   4      
 584   4              if (KeyFuncNum==7)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸ƒæ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œå¹´â€å‰åŠçš„ä½ç½®
 585   4              {
 586   5                year_fr++;
 587   5                if (year_fr==99)
 588   5                {
 589   6                  year_fr=0;
 590   6                }
 591   5                lcd_display_time(FLAG_DATE,2,year_fr);
 592   5                lcd_write_cmd(0x80+2);//å…‰æ ‡é‡æ–°å›åˆ°â€œå¹´â€çš„å‰åŠæ˜¾ç¤ºä½ç½®
 593   5                I2C_write_data(7,year_fr);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 594   5              }
 595   4      
 596   4              if (KeyFuncNum==8)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å…«æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæ˜ŸæœŸâ€çš„ä½ç½®
 597   4              {
 598   5                WeekNum++;
 599   5                if (WeekNum==8)
 600   5                {
 601   6                  WeekNum=1;
 602   6                }
 603   5                lcd_write_week(WeekNum);
 604   5                lcd_write_cmd(0x80+13);//å…‰æ ‡é‡æ–°å›åˆ°â€œæ˜ŸæœŸâ€çš„æ˜¾ç¤ºä½ç½®
 605   5                I2C_write_data(8,WeekNum);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 11  

 606   5              }
 607   4            }
 608   3          }
 609   2      
 610   2          if (key_sub==0)//å‡å°‘é”®è¢«æŒ‰ä¸‹
 611   2          {
 612   3            delay_ms(5);//å»¶æ—¶æ¶ˆæŠ–
 613   3            if (key_sub==0)//å†æ¬¡ç¡®è®¤æŒ‰é”®è¢«æŒ‰ä¸‹
 614   3            {
 615   4              while(!key_sub);//ç­‰å¾…æŒ‰é”®é‡Šæ”¾
 616   4              beep_func();
 617   4      
 618   4              /*==============æ§åˆ¶æ—¶é—´===============*/
 619   4              if (KeyFuncNum==1)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸€æ¬¡ï¼Œå…‰æ ‡åœåœ¨ç§’çš„ä½ç½®
 620   4              {
 621   5                miao--;
 622   5                if (miao==-1)
 623   5                {
 624   6                  miao=59;
 625   6                }
 626   5                lcd_display_time(FLAG_TIME,8,miao);
 627   5                lcd_write_cmd(0x80+0x40+8);
 628   5                I2C_write_data(1,miao);
 629   5              }
 630   4      
 631   4              if (KeyFuncNum==2)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸¤æ¬¡ï¼Œå…‰æ ‡åœåœ¨åˆ†é’Ÿçš„ä½ç½®
 632   4              {
 633   5                fen--;
 634   5                if (fen==-1)
 635   5                {
 636   6                  fen=59;
 637   6                }
 638   5                lcd_display_time(FLAG_TIME,5,fen);
 639   5                lcd_write_cmd(0x80+0x40+7);
 640   5                I2C_write_data(2,fen);
 641   5              }
 642   4      
 643   4              if (KeyFuncNum==3)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸‰æ¬¡ï¼Œå…‰æ ‡åœåœ¨æ—¶é’Ÿçš„ä½ç½®
 644   4              {
 645   5                shi--;
 646   5                if (shi==-1)
 647   5                {
 648   6                  shi=23;
 649   6                }
 650   5                lcd_display_time(FLAG_TIME,2,shi);
 651   5                lcd_write_cmd(0x80+0x40+2);
 652   5                I2C_write_data(3,shi);
 653   5              }
 654   4      
 655   4              /*==============æ§åˆ¶æ—¥æœŸ===============*/
 656   4              if (KeyFuncNum==4)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å››æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæ—¥â€çš„ä½ç½®
 657   4              {
 658   5                day++;
 659   5                if (day==29)//29åæ¸…0,2020å¹´2æœˆä¸ºé—°æœˆã€‚æ­¤å¤„éœ€è¦æ ¹æ®å®é™…æ—¥æœŸæ¥è°ƒæ•´ï¼Œå°†æ¥å¯ä»¥
             -å¢åŠ â€œæ™ºèƒ½è°ƒæ•´â€åŠŸèƒ½
 660   5                {
 661   6                  day=0;
 662   6                }
 663   5                lcd_display_time(FLAG_DATE,10,day);//æ¯è°ƒèŠ‚ä¸€æ¬¡é€æ¶²æ™¶æ˜¾ç¤ºä¸€æ¬¡
 664   5                lcd_write_cmd(0x80+10);//å…‰æ ‡é‡æ–°å›åˆ°"æ—¥"çš„æ˜¾ç¤ºä½ç½®
 665   5                I2C_write_data(4,day);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 666   5              }
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 12  

 667   4      
 668   4              if (KeyFuncNum==5)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹äº”æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæœˆâ€çš„ä½ç½®
 669   4              {
 670   5                month++;
 671   5                if (month==12)
 672   5                {
 673   6                  month=0;
 674   6                }
 675   5                lcd_display_time(FLAG_DATE,7,month);
 676   5                lcd_write_cmd(0x80+7);//å…‰æ ‡é‡æ–°å›åˆ°â€œæœˆçš„æ˜¾ç¤ºä½ç½®
 677   5                I2C_write_data(5,month);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 678   5              }
 679   4      
 680   4              if (KeyFuncNum==6)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å…­æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œå¹´â€ååŠçš„ä½ç½®
 681   4              {
 682   5                year_re++;
 683   5                if (year_re==99)
 684   5                {
 685   6                  year_re=0;
 686   6                }
 687   5                lcd_display_time(FLAG_DATE,4,year_re);
 688   5                lcd_write_cmd(0x80+4);//å…‰æ ‡é‡æ–°å›åˆ°â€œå¹´â€çš„ååŠæ˜¾ç¤ºä½ç½®
 689   5                I2C_write_data(6,year_re);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 690   5              }
 691   4      
 692   4              if (KeyFuncNum==7)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹ä¸ƒæ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œå¹´â€å‰åŠçš„ä½ç½®
 693   4              {
 694   5                year_fr++;
 695   5                if (year_fr==99)
 696   5                {
 697   6                  year_fr=0;
 698   6                }
 699   5                lcd_display_time(FLAG_DATE,2,year_fr);
 700   5                lcd_write_cmd(0x80+2);//å…‰æ ‡é‡æ–°å›åˆ°â€œå¹´â€çš„å‰åŠæ˜¾ç¤ºä½ç½®
 701   5                I2C_write_data(7,year_fr);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 702   5              }
 703   4      
 704   4              if (KeyFuncNum==8)//åŠŸèƒ½é”®è¢«æŒ‰ä¸‹å…«æ¬¡ï¼Œå…‰æ ‡åœåœ¨â€œæ˜ŸæœŸâ€çš„ä½ç½®
 705   4              {
 706   5                WeekNum--;
 707   5                if (WeekNum==0)
 708   5                {
 709   6                  WeekNum=7;
 710   6                }
 711   5                lcd_write_week(WeekNum);
 712   5                lcd_write_cmd(0x80+13);//å…‰æ ‡é‡æ–°å›åˆ°â€œæ˜ŸæœŸâ€çš„æ˜¾ç¤ºä½ç½®
 713   5                I2C_write_data(8,WeekNum);//æ•°æ®æ”¹å˜ç«‹å³å­˜å…¥E2PROM
 714   5              }
 715   4            }
 716   3          }
 717   2      
 718   2        }
 719   1      }
 720          
 721          /****ä¸»å‡½æ•°****/
 722          void main()
 723          {
 724   1        uchar i;
 725   1        
 726   1        /*åˆå§‹åŒ–æ¶²æ™¶1602*/
 727   1        LcdInit();
 728   1      
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 13  

 729   1        /*ä¸»å¾ªç¯*/
 730   1        while(1)
 731   1        {
 732   2          /*æ‰«ææŒ‰é”®*/
 733   2          KeyScan();
 734   2      
 735   2          /*æ¸©åº¦è½¬æ¢ï¼Œæ•°ç ç®¡ã€æ¶²æ™¶æ˜¾ç¤ºæ¸©åº¦*/
 736   2          //TempChange();
 737   2          //for (i = 0; i < 10; ++i)
 738   2          //{
 739   2          //  lcd_display_temp(12,GetTemp());
 740   2          // }
 741   2      
 742   2          /*å¤„ç†æ¸©åº¦å€¼*/
 743   2          //TempDeal(temp_int);
 744   2      
 745   2          /*æ¸©åº¦æ˜¾ç¤ºä»¥å»¶æ—¶*/
 746   2          // for (i = 0; i < 10; ++i)
 747   2          // {
 748   2          //  lcd_display_temp(12,GetTemp());
 749   2          // }
 750   2        }
 751   1      }
*** WARNING C280 IN LINE 724 OF °´¼ü¿ØÖÆÊ±ÖÓÏÔÊ¾.c: 'i': unreferenced local variable
 752          
 753          /****å®šæ—¶å™¨0ä¸­æ–­æœåŠ¡å‡½æ•°****/
 754          void T0_time() interrupt 1
 755          {
 756   1        TH0=(65536-50000)/256;//å†æ¬¡è£…åˆå€¼
 757   1        TL0=(65536-50000)%256;
 758   1        count++;
 759   1        if (count==20)//åˆ°1s
 760   1        {
 761   2          count=0;
 762   2          miao++;
 763   2          if (miao==60)
 764   2          {
 765   3            miao=0;
 766   3            fen++;
 767   3            if (fen==60)
 768   3            {
 769   4              fen=0;
 770   4              shi++;
 771   4              if (shi==24)
 772   4              {
 773   5                shi=0;
 774   5                day++;
 775   5                if (day==29)
 776   5                {
 777   6                  day=0;
 778   6                  month++;
 779   6                  if (month==12)
 780   6                  {
 781   7                    month=0;
 782   7                    year_re++;
 783   7                    if (year_re==99)
 784   7                    {
 785   8                      year_re=0;
 786   8                      year_fr++;
 787   8                      if (year_fr==99)
 788   8                      {
 789   9                        year_fr=0;
C51 COMPILER V9.54   ________________                                                      02/03/2020 22:47:42 PAGE 14  

 790   9                      }
 791   8                      lcd_display_time(FLAG_DATE,2,year_fr);
 792   8                      I2C_write_data(7,year_fr);
 793   8                    }
 794   7                    lcd_display_time(FLAG_DATE,4,year_re);
 795   7                    I2C_write_data(6,year_re);
 796   7                  }
 797   6                  lcd_display_time(FLAG_DATE,7,month);
 798   6                  I2C_write_data(5,month);
 799   6                }
 800   5                lcd_display_time(FLAG_DATE,10,day);
 801   5                I2C_write_data(4,day);
 802   5              }
 803   4              lcd_display_time(FLAG_TIME,2,shi);//å°æ—¶è‹¥å˜åŒ–åˆ™é€ç»™æ¶²æ™¶æ˜¾ç¤º
 804   4              I2C_write_data(3,shi);//æ•°æ®æ”¹å˜åˆ™å†™å…¥E2PROM
 805   4            }
 806   3            lcd_display_time(FLAG_TIME,5,fen);
 807   3            I2C_write_data(2,fen);
 808   3          }
 809   2          lcd_display_time(FLAG_TIME,8,miao);
 810   2          I2C_write_data(1,miao);
 811   2        }
 812   1      
 813   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2337    ----
   CONSTANT SIZE    =      4    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     24      13
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1       2
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
